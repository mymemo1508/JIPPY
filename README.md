# ☕ 올인원 매장 관리 서비스 JIPPY ☕

## 📂 프로젝트 소개
자영업자 폐업률이 정말 높은 요즘 시대에 <br> 개인 사업의 자영업자에게 주목하고 문제점을 개선해 보고자 기획 했습니다 <br> 그 중, "영세 사업장의 시스템 부족"에 주목해 문제점을 해결하고자 했습니다

## 📅 프로젝트 수행 기간
- 2025-01-06 ~ 2025-02-21

## 🧑‍🚀 팀원 소개

|                             [한승남](https://github.com/hansnam1105)                              |                              [강지민](https://github.com/kingkang85)                              |                             [송가연](https://github.com/mymemo1508)                              |                             [이영석](https://github.com/kobenlys)                              |                            [최은진](https://github.com/carrtt1)                               |                            [하지원](https://github.com/haazz)                              
| :-------------------------------------------------------------------------------------------: | :-------------------------------------------------------------------------------------------: | :----------------------------------------------------------------------------------------------: | :------------------------------------------------------------------------------------------: | :---------------------------------------------------------------------------------------------: | :-----------------------------------------------------------------------------------------------: |
| <img src="https://github.com/user-attachments/assets/2666fb26-659e-47ba-9e7b-7e1682b997e9" width="100" height="100"> | <img src="https://github.com/user-attachments/assets/4f48bb90-bf40-43f4-af1e-eacf134f3d18" width="100" height="100"> | <img src="https://github.com/user-attachments/assets/1b25d3fe-f654-44fb-832e-66ed0ceab395" width="100" height="100"> | <img src="https://github.com/user-attachments/assets/c05b9efe-6a1d-4315-9207-0e1eea8ee70d" width="100" height="100"> | <img src="https://github.com/user-attachments/assets/a6c14a53-26ec-4980-a81c-6b89c439e1bb" width="100" height="100"> | <img src="https://github.com/user-attachments/assets/d0494cb5-0c85-4c27-afdf-b899ffccc80c" width="100" height="100"> |

<br><br>
## 🔧 사용 스택

### **FrontEnd** <br>
<img src="https://img.shields.io/badge/typescript-3178C6?style=for-the-badge&logo=typescript&logoColor=white">
<img src="https://img.shields.io/badge/next.js-000000?style=for-the-badge&logo=nextdotjs&logoColor=white">
<img src="https://img.shields.io/badge/tailwindcss-06B6D4?style=for-the-badge&logo=tailwindcss&logoColor=white">
<img src="https://img.shields.io/badge/pwa-5A0FC8?style=for-the-badge&logo=pwa&logoColor=white">
<img src="https://img.shields.io/badge/node.js-5FA04E?style=for-the-badge&logo=nodedotjs&logoColor=white">
<img src="https://img.shields.io/badge/redux-764ABC?style=for-the-badge&logo=redux&logoColor=white">
<img src="https://img.shields.io/badge/chart.js-FF6384?style=for-the-badge&logo=chartdotjs&logoColor=white">
<img src="https://img.shields.io/badge/socket.io-010101?style=for-the-badge&logo=socketdotio&logoColor=white"> <br> 
<img src="https://img.shields.io/badge/firebase-DD2C00?style=for-the-badge&logo=firebase&logoColor=white">
<img src="https://img.shields.io/badge/svelte-FF3E00?style=for-the-badge&logo=svelte&logoColor=white">

### **BackEnd** <br>
<img src="https://img.shields.io/badge/Java 21-007396.svg?&style=for-the-badge&logo=Java&logoColor=white">
<img src="https://img.shields.io/badge/python-3776AB?style=for-the-badge&logo=python&logoColor=white">
<img src="https://img.shields.io/badge/JPA-F3702A?style=for-the-badge&logo=jpa&logoColor=white"/>
<img src="https://img.shields.io/badge/gradle-02303A?style=for-the-badge&logo=gradle&logoColor=white"/>
<img src="https://img.shields.io/badge/springboot-6DB33F?style=for-the-badge&logo=springboot&logoColor=white"/>
<img src="https://img.shields.io/badge/springsecurity-6DB33F?style=for-the-badge&logo=springsecurity&logoColor=white"/>
<img src="https://img.shields.io/badge/redis-FF4438?style=for-the-badge&logo=redis&logoColor=white"/>
<img src="https://img.shields.io/badge/Swagger-85EA2D?style=for-the-badge&logo=swagger&logoColor=white"/> <br>
<img src="https://img.shields.io/badge/scikitlearn-EE4C2C?style=for-the-badge&logo=scikitlearn&logoColor=white"/>
<img src="https://img.shields.io/badge/pytorch-F7931E?style=for-the-badge&logo=pytorch&logoColor=white"/>
<br>
<img src="https://img.shields.io/badge/k6-7D64FF?style=for-the-badge&logo=k6&logoColor=white"/> 
<img src="https://img.shields.io/badge/grafana-F46800?style=for-the-badge&logo=grafana&logoColor=white"/>
<img src="https://img.shields.io/badge/influxdb-22ADF6?style=for-the-badge&logo=influxdb&logoColor=white"/> <br> 
<img src="https://img.shields.io/badge/mongodb-47A248?style=for-the-badge&logo=mongodb&logoColor=white"/>
<img src="https://img.shields.io/badge/mysql-4479A1?style=for-the-badge&logo=mysql&logoColor=white"/>

### **Infra** <br>
<img src="https://img.shields.io/badge/amazon EC2-FF9900?style=for-the-badge&logo=amazonec2&logoColor=white"/>
<img src="https://img.shields.io/badge/amazon s3-569A31?style=for-the-badge&logo=amazons3&logoColor=white"/>
<img src="https://img.shields.io/badge/jenkins-D24939?style=for-the-badge&logo=jenkins&logoColor=white"/>
<img src="https://img.shields.io/badge/nginx-009639?style=for-the-badge&logo=nginx&logoColor=white"/>
<img src="https://img.shields.io/badge/docker-2496ED?style=for-the-badge&logo=docker&logoColor=white"/>

<br><br>
## 📢 기능 요약

1. WEB base 포스기
    - 상품 결제 시 **Toss Payments SDK** 사용
    - **GPS**를 사용한 매장 출퇴근 시스템
    - Upstage AI의 **OCR 인식**으로 검증이 되는 매장 관리
    - 재고 관리 및 판매 최적화


2. 머신러닝 분석 ERP 대시보드
    - **Random Forest 모델**을 사용한 재고 예측 대시보드 제공
    - Redis를 사용한 실시간 매장 근무 인원 조회
    - **KcELECTRA 모델**을 사용한 피드백 데이터 감정 분석 대시보드
    - 날짜별, 상품별 등 다양한 유저 친화적 대시보드 제공
3. 모바일 기기 지원
    - **PWA**로 모바일에서 다운로드 가능
    - **FCM**으로 백그라운드에서의 푸시 알림 서비스
    - **WebSocket**으로 실시간 상황 공유와 단체 대화 가능

<br><br>
## 🎁 프로젝트 구성

### 1. 아키텍쳐
<img src="https://github.com/user-attachments/assets/95ef77da-0ae4-4962-8c9b-2672e720b048"/> <br>

### 2. ERD
<img src="https://github.com/user-attachments/assets/f899eee7-c2a2-4356-8780-454d1cccf226"/> <br>
자세한 내용은 [테이블 정의서](https://malleable-bacon-dd3.notion.site/ERD-1774c2a6b8648019b318c98a85781e95?pvs=4)에 정리해두었습니다

<br><br>
## 🌈 주요 기능

### 1. Toss Payments 결제
<img src="https://github.com/user-attachments/assets/41308496-1bb3-4b6e-8e3d-952969be41f6"/> <br>
- Toss의 결제 API를 사용해 QR코드로 결제하는 기능입니다
- Front에서 UUID를 생성 후 Toss의 서버에 request를 보내면 Toss에서 결제에 대한 성공/실패 response를 도출해 줍니다


### 2. 모바일 PWA 앱
<img src="https://github.com/user-attachments/assets/da8550a3-2bce-40be-9bc7-5f58bcc34649"/> <br>
- Progressive Web Apps를 통해 모바일 웹 브라우저에서 바로 앱을 설치해 사용합니다
- 모바일로 제공함으로써 접근성을 향상 시켰습니다


### 3. GPS 직원 출퇴근
<img src="https://github.com/user-attachments/assets/d9fdba99-90f0-4eb9-9786-33a90f10f9ca"/> <br>
- 출근 기능을 단순히 버튼만 누르게 한다면 실제로 일하지 않아도 출근 버튼만 누르면 되는 시스템이 될 것입니다
- 그래서 저희는 GPS를 도입해 매장에서만 출근이 가능하도록 했습니다
- GPS 좌표의 정확성을 높이기 위해서 하버사인 공식을 적용 했습니다 두 지점 간 거리를 정밀하게 계산합니다


### 4. FCM과 WebSocket을 이용한 실시간 소통
<img src="https://github.com/user-attachments/assets/c06974e4-8f5e-47a1-9004-ea3f18c39e0e"/> <br>
- Firebase 기반의 Messaging 시스템으로 앱이 백그라운드에 있을 때에도 유저들에게 피드백이나 채팅에 대한 알람을 제공해 줍니다
- WebSocket의 보안 프로토콜(wss://)을 사용해 데이터 전송의 보안을 강화합니다


### 5. 재고 예측 모델
<img src="https://github.com/user-attachments/assets/90800eb4-6b88-4523-8b26-1ce4db76d0c8"/> <br>
- 매장마다 다른 시계열 데이터를 학습해 개인화된 예측을 제공합니다 
- 모델 학습 단계에서 비선형 데이터 학습에 탁월한 Random Forest로 예측 모델을 구현 했습니다
- MSE와 R2 score로 완성된 모델에 대한 평가 매트릭스도 제공합니다


### 6. 피드백 데이터 분석 모델
<img src="https://github.com/user-attachments/assets/5a4d9d8e-308e-4cc3-ae90-bef2cd944a71"/> <br>
- 한국어 댓글을 수집해 만들어진 KcELECTRA 모델을 사용했습니다
- AI Hub의 한국어 감정 데이터셋을 사용해 긍정/부정 감정을 학습 시켰습니다
- Hugging Face의 Trainer API를 통해 학습 파이프라인을 설정했습니다
- 감정 분석을 통해 고객 피드백의 키워드를 뽑아내고 매장의 사장님께 대시보드를 제공합니다


### 7. 사업자등록증 OCR 인식
<img src="https://github.com/user-attachments/assets/38125f79-1d41-42f7-9fd0-18ea882218fa"/> <br>
- Upstage AI의 OCR 솔루션으로 문서 인식을 합니다
- 사장님이 사업자등록증을 업로드하면 하나하나 입력하는 과정 없이 매장 등록을 빠르게 할 수 있습니다


### 8. 부하 테스트
<img src="https://github.com/user-attachments/assets/6ae7f8f0-b1d4-433e-8c17-c044ed7b1a58"/> <br>
<img src="https://github.com/user-attachments/assets/a58cdb98-40d7-4b54-87c4-a9fe5b9812b2"/> <br>
- k6으로 부하 테스트를 진행하고 influx DB에 데이터를 저장합니다
- grafana를 통해 시각적으로 부하 테스트 결과를 보여줍니다